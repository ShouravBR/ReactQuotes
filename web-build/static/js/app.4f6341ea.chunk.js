(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{149:function(e,t,n){e.exports=n(191)},191:function(e,t,n){"use strict";n.r(t);var r=n(205),o=n(12),a=n.n(o),s=n(5),c=n.n(s),i=n(7),u=n.n(i),l=n(8),j=n.n(l),d=n(0),b=n(3),f=n(98),x=n(69),O=n(59),h=n(25),v=n(2),p=n(94),y=n(43),m=n(202),g=n(203),Q=n(204),S=n(70),F=n(17),w=n(206),I=n(4);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=Object(d.useState)(e.isFavourite),n=u()(t,2),r=n[0],o=n[1];return Object(I.jsxs)(v.a,{style:M.singlequotecontainer,children:[Object(I.jsxs)(v.a,{style:M.singlequote,children:[Object(I.jsx)(h.a,{style:M.text,children:e.text}),Object(I.jsx)(h.a,{children:e.author})]}),Object(I.jsxs)(v.a,{style:{flexDirection:"row",padding:5},children:[Object(I.jsx)(v.a,{style:{flex:1,justifyContent:"center",alignItems:"flex-start"},children:Object(I.jsx)(y.a,{onPress:function(){r?(o(!1),e.removeFavourite(e.text,e.author)):(o(!0),e.addFavourite(e.text,e.author))},children:Object(I.jsx)(Q.a,{name:r?"heart":"hearto"})})}),Object(I.jsx)(v.a,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(I.jsx)(h.a,{children:"Sentiment"})})]})]})};function q(e){var t=Object(d.useState)(!0),n=u()(t,2),r=n[0],o=n[1],a=Object(d.useState)([]),s=u()(a,2),c=s[0],i=s[1];Object(d.useEffect)((function(){!function(){var e,t;j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,"https://type.fit/api/quotes",n.next=4,j.a.awrap(fetch("https://type.fit/api/quotes"));case 4:return e=n.sent,n.next=7,j.a.awrap(e.json());case 7:t=n.sent,i(t),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),null,null,[[0,11,14,17]],Promise)}()}),[]);var l=Object(d.useState)(0),b=u()(l,2),f=b[0],h=b[1];return Object(F.o)(Object(d.useCallback)((function(){h(f+1)}),[e.userFavourites])),Object(I.jsx)(x.a,{style:M.container,children:r?Object(I.jsx)(p.a,{}):Object(I.jsx)(O.a,{data:c,keyExtractor:function(e,t){return c.length*f+t},renderItem:function(t){var n=t.item;return Object(I.jsx)(C,{text:n.text,author:n.author,isFavourite:e.quoteInFavourite(e.userFavourites,n),addFavourite:e.addFavourite,removeFavourite:e.removeFavourite})}})})}function N(e){return Object(I.jsx)(x.a,{style:M.container,children:Object(I.jsx)(O.a,{data:e.userFavourites,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var n=t.item;return Object(I.jsx)(C,{text:n.text,author:n.author,isFavourite:e.quoteInFavourite(e.userFavourites,n),addFavourite:e.addFavourite,removeFavourite:e.removeFavourite})}})})}var J=Object(w.a)();function A(e){var t=Object(F.p)();return console.log("myquotes-screen:",e),Object(I.jsxs)(x.a,{style:M.container,children:[Object(I.jsx)(O.a,{data:e.userQuotes,keyExtractor:function(e,t){return t},renderItem:function(t){var n=t.item;return Object(I.jsxs)(v.a,{style:M.singlequotecontainer,children:[Object(I.jsxs)(v.a,{style:M.singlequote,children:[Object(I.jsx)(h.a,{style:M.text,children:n.text}),Object(I.jsx)(h.a,{children:n.author})]}),Object(I.jsxs)(v.a,{style:{flexDirection:"row",padding:5},children:[Object(I.jsx)(v.a,{style:{flex:1,justifyContent:"center",alignItems:"flex-start"},children:Object(I.jsx)(y.a,{onPress:function(){e.deleteQuote(n)},children:Object(I.jsx)(Q.a,{name:"delete"})})}),Object(I.jsx)(v.a,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(I.jsx)(h.a,{children:"Sentiment"})})]})]})}}),Object(I.jsx)(v.a,{style:M.container,children:Object(I.jsx)(y.a,{style:M.AddQuoteContainer,onPress:function(){t.navigate("Add Quote")},children:Object(I.jsx)(Q.a,{name:"plus",style:M.AddQuoteIcon})})})]})}function B(e){var t=Object(F.p)(),n=Object(d.useState)(""),r=u()(n,2),o=r[0],a=r[1],s=Object(d.useState)("Me"),c=u()(s,2),i=c[0],l=c[1];return Object(I.jsxs)(x.a,{style:M.container,children:[Object(I.jsx)(v.a,{style:M.inputContainer,children:Object(I.jsx)(f.a,{style:M.inputQuote,multiline:!0,numberOfLines:5,onChangeText:function(e){return a(e)}})}),Object(I.jsx)(v.a,{style:M.inputContainer,children:Object(I.jsx)(f.a,{style:M.inputName,onChangeText:function(e){return l(e)},value:"Me"})}),Object(I.jsx)(v.a,{style:M.container,children:Object(I.jsx)(y.a,{style:M.submitQuoteButton,onPress:function(){e.submitQuote(o,i),t.navigate("My Quotes")},children:Object(I.jsx)(Q.a,{name:"addfile",style:M.AddQuoteIcon,children:Object(I.jsx)(h.a,{children:"Add quote"})})})})]})}function z(e){return Object(I.jsxs)(J.Navigator,{children:[Object(I.jsx)(J.Screen,{name:"My Quotes",children:function(){return Object(I.jsx)(A,{userQuotes:e.userQuotes,deleteQuote:e.deleteQuote})}}),Object(I.jsx)(J.Screen,{name:"Add Quote",children:function(){return Object(I.jsx)(B,{submitQuote:e.submitQuote})}})]})}var E=Object(g.a)();function D(e){return Object(I.jsxs)(E.Navigator,{children:[Object(I.jsx)(E.Screen,{name:"Quotes",children:function(){return Object(I.jsx)(q,k({},e))},options:{tabBarLabel:"Quotes",tabBarIcon:function(e){var t=e.color,n=e.size;return Object(I.jsx)(Q.a,{name:"book",color:t,size:n})}}}),Object(I.jsx)(E.Screen,{name:"Favourites",children:function(){return Object(I.jsx)(N,k({},e))},options:{tabBarLabel:"Favourites",tabBarIcon:function(e){var t=e.color,n=e.size;return Object(I.jsx)(Q.a,{name:"heart",color:t,size:n})}}}),Object(I.jsx)(E.Screen,{name:"My Quotes Stack",children:function(){return Object(I.jsx)(z,{userQuotes:e.userQuotes,submitQuote:e.submitQuote,deleteQuote:e.deleteQuote})},options:{headerShown:!1,tabBarLabel:"My Quotes",tabBarIcon:function(e){var t=e.color,n=e.size;return Object(I.jsx)(Q.a,{name:"form",color:t,size:n})}}})]})}var M=b.a.create({container:{flex:1,paddingTop:5},text:{fontSize:24,textAlign:"center"},singlequotecontainer:{borderWidth:1,borderRadius:5,margin:5},singlequote:{padding:5,borderBottomWidth:1,justifyContent:"center",alignItems:"center"},AddQuoteContainer:{position:"absolute",width:56,height:56,alignItems:"center",justifyContent:"center",right:20,bottom:20,backgroundColor:"#03A9F4",borderRadius:30,elevation:8},AddQuoteIcon:{fontSize:40,color:"white"},inputQuote:{height:200,margin:12,borderWidth:1,padding:10},inputName:{height:40,margin:12,borderWidth:1,padding:10},submitQuoteButton:{backgroundColor:"#03A9F4",alignSelf:"flex-start",justifyContent:"center",margin:12,padding:5}}),L=function(){var e=Object(d.useState)(!0),t=u()(e,2),n=t[0],r=t[1],o=Object(d.useState)([]),s=u()(o,2),c=s[0],i=s[1],l=function(){var e;return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=JSON.stringify(c),t.next=4,j.a.awrap(S.a.setItem("Favourites",e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("error updating favourites");case 9:return t.prev=9,console.log("favourites updated",c),t.finish(9);case 12:case"end":return t.stop()}}),null,null,[[0,6,9,12]],Promise)},b=Object(d.useState)(!0),f=u()(b,2),x=f[0],O=f[1],h=Object(d.useState)([]),v=u()(h,2),y=v[0],g=v[1],Q=function(){var e;return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=JSON.stringify(y),t.next=4,j.a.awrap(S.a.setItem("Quotes",e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("error updating User Quotes");case 9:return t.prev=9,console.log("User Quotes updated",y),t.finish(9);case 12:case"end":return t.stop()}}),null,null,[[0,6,9,12]],Promise)};return Object(d.useEffect)((function(){!function(){var e,t;j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.a.awrap(S.a.getItem("Favourites"));case 3:e=n.sent,t=null!=e?JSON.parse(e):[],i(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:return n.prev=11,r(!1),n.finish(11);case 14:case"end":return n.stop()}}),null,null,[[0,8,11,14]],Promise)}(),function(){var e,t;j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.a.awrap(S.a.getItem("Quotes"));case 3:e=n.sent,t=null!=e?JSON.parse(e):[],g(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:return n.prev=11,O(!1),n.finish(11);case 14:case"end":return n.stop()}}),null,null,[[0,8,11,14]],Promise)}()}),[]),Object(I.jsx)(m.a,{children:n&x?Object(I.jsx)(p.a,{}):Object(I.jsx)(D,{userFavourites:c,quoteInFavourite:function(e,t){return void 0!=e.find((function(e){return JSON.stringify(e)==JSON.stringify(t)}))},addFavourite:function(e,t){var n=c;n.push({text:e,author:t}),i(a()(n)),l()},removeFavourite:function(e,t){var n=c,r={text:e,author:t},o=n.findIndex((function(e){return JSON.stringify(e)==JSON.stringify(r)}));o<0&&console.error("quote",e,"not in favourites"),n.splice(o,1),i(a()(n)),l()},userQuotes:y,submitQuote:function(e,t){var n=y;n.push({text:e,author:t}),g(a()(n)),Q()},deleteQuote:function(e){var t=y,n=t.findIndex((function(t){return JSON.stringify(t)==JSON.stringify(e)}));n<0&&console.error("quote",text,"not in User Quotes"),t.splice(n,1),g(a()(t)),Q()}})})};Object(r.a)(L)}},[[149,1,2]]]);
//# sourceMappingURL=app.4f6341ea.chunk.js.map